<!DOCTYPE html>
<html xmlns="https://www.thymeleaf.org" class="dark-mode">

<head th:fragment="head">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Projectory - Project Management App</title>
	<link rel="icon" th:href="@{/images/projectory-logo.png}" type="image/x-icon">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">


	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
		crossorigin="anonymous"></script>
	<link href="/css/style.css" rel="stylesheet">
	<link href="/css/todolist.css" rel="stylesheet">
	<link th:href="@{/css/user-dashboard-style.css}" rel="stylesheet">
	<link href="/css/notification-popup-bar.css" rel="stylesheet">
	<script src="https://kit.fontawesome.com/6d882a57d9.js" crossorigin="anonymous"></script>
	<script src="/javascript/todoListScript.js" defer></script>
	<script src="/javascript/dashboard-script.js" defer></script>
	<script src="/javascript/mainScript.js" defer></script>
	<script src="/javascript/project-script.js" defer></script>
	<script src="/javascript/login-info-fetch.js" defer></script>
	<script src="/javascript/charts-project.js" defer></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="/javascript/theme-switch-script.js" defer></script>

</head>

<header th:fragment="nav" class="dashboard-nav fixed-top">

	<figure th:replace="/mainLayouts :: notification-bar"></figure>

	<nav class="user-dashboard-nav d-flex">
		<div class="top-projectory-logo">
			<a class="navbar-brand navbar-brand-dashboard" th:href="@{/}">
				<img th:src="@{/images/projectory-logo.png}" alt="[logo]" height="30px" width="23px">
				<span>projectory</span>
			</a>
		</div>



		<div class="navbar-links-container d-flex justify-content-end mx-3">
			<span class="search-bar me-1 d-flex">
				<input type="text" class="top-search-text-input d-inline" placeholder="Search keyword"
					id="search-text-input">
				<span role="button" class="top-search-btn d-inline fa-solid fa-magnifying-glass"></span>
			</span>

			<div class="mt-0 pt-0 " th:object="${user}">
				<div class="top-menu-icons">
					<div class="top-menu-links d-flex">
						<a class="top-nav-links" onClick="showTopCollapsableMenu(1, this.id)" id="top-message-nav-link"
							aria-label="not-selected" title="Notification">
							<span class="nav-icon mt-0 pt-0 fa-solid fa-message"></span></a>
						<a class="top-nav-links" onClick="showTopCollapsableMenu(0, this.id)"
							id="top-notification-nav-link" aria-label="not-selected" title="Messages">
							<span class="nav-icon mt-0 pt-0 fa-solid fa-bell"></span></a>
						<!--<a class="nav-link" th:href="@{/user/dashboard}"  th:text="${user.firstName}  + ' '+ ${user.lastName}">-->
						<a class="top-nav-links no-text-decoration profile-pic-btn-link" onClick="showTopCollapsableMenu(2, this.id)" id="top-user-nav-link"
							aria-label="not-selected" title="Account">
							<!--<span class="nav-icon mt-0 pt-0 fa-solid fa-user" th:text="${currentUserDetail.profilePicture}"></span>-->
							<span class="nav-icon mt-0 pt-0 profile-pic-btn" th:text="${currentUserDetail.profilePicture}" id="profile-pic-btn"></span>
							<!--<img src="/images/projectory-logo.png" height="20px" width="20px">--></a>
					</div>

					<!--top-collapsable-menu content outer container-->
					<div class="top-collapsable-menu-container custom-scrollbar-style-3"
						id="top-collapsable-menu-container">
						<!--onmouseleave="collapseTopMenu()">-->
						<div class="top-menu-content" id="notification-menu-content">
							<span class="top-menu-header">Notification</span>
						</div>

						<div class="top-menu-content" id="message-menu-content">
							<span class="top-menu-header">Messages</span>
							<span role="button" class="top-menu-link d-block my-3">
								<span class="fa-solid fa-gear pe-2">
								</span><a href="">Go to messenger</a></span>
						</div>

						<div class="top-menu-content" id="setting-menu-content">
							<span class="top-menu-header   text-center">
								<span class="d-block mb-3">
								<!--<span class="fa-solid fa-id-card pe-2"></span>	-->							
							<span class="non-hoverable-top-menu-text d-block mb-2">@<span th:text = "${user}"></span></span>
							<span class="nav-icon mt-0 pt-0 profile-pic-btn " th:text="${currentUserDetail.profilePicture}" id="profile-pic-btn"></span>
								<br/>
								<span class="fs-14">Hi, <span th:text = "${currentUserDetail.firstName}"></span>
							 <span th:text = "${currentUserDetail.lastName}"></span></span>
								
							<a href="/user/profile" class="fs-10 minimalistic-btn d-block top-menu-link minimalist-btn" >View Profile</a>
							</span>
								
							</span>

							<div><span></span></div>
							

							<span role="button" class="top-menu-link d-block my-3 text-center">
								<span class="fa-solid fa-user-pen pe-2">
								</span><a href="/logout">Edit Profile</a></span>
							<hr />
							<span role="button" class="top-menu-link d-block mt-3 text-center">
								<span class="fa-solid fa-right-from-bracket pe-2">
								</span><a href="/logout">Sign out</a></span>
						</div>
					</div>

				</div>
			</div>

		</div>
	</nav>

</header>


<aside th:fragment="side-menu" id="side-menu" class="p-0">


	<div class="navbar-dark bg-dark pt-5 side-nav">
		<div class="navbar-nav ms-0" th:object="${user}">

			<span role="button" class="fa-solid fa-bars mb-3" id="side-menu-toggle" onClick="sideMenuToggle()">
				<span class="fa-solid fa-caret-right" id="side-nav-arrow"></span>
			</span>
			<a class="nav-link dashboard-link side-nav-link-selected" th:href="@{/user/dashboard}"
				id="side-menu-dashboard-link" onClick="selectedSideMenuToggle(0)">
				<span class="nav-icon mt-1 fa-solid fa-table-columns"></span> <span
					class="side-nav-text mx-2">Dashboard</span></a>
			<a role="button" class="nav-link todo-list-link" id="side-menu-connection-link"
				onClick="selectedSideMenuToggle(1)">
				<span class="nav-icon mt-1 fa-solid fa-user-group"></span> <span
					class="side-nav-text mx-2">Connections</span></a>
			<a role="button" class="nav-link scrum-board-link" id="side-menu-board-link"
				onClick="selectedSideMenuToggle(2)">
				<span class="nav-icon mt-1 fa-solid fa-chalkboard-user"></span>
				<span class="side-nav-text mx-2">Scrum Board</span></a>
			<!--<a class="nav-link" th:href="@{/user/dashboard}"  th:text="${user.firstName}  + ' '+ ${user.lastName}">-->
			<a role="button" class="nav-link account-link" id="side-menu-setting-link"
				onClick="selectedSideMenuToggle(3)">
				<span class="nav-icon mt-1 fa-solid fa-sliders"></span>
				<span class="side-nav-text mx-2">Setting</span></a>

			<span class="logged-theme-switch theme-switch-container"><label
					th:replace="mainLayouts::theme-switch"></label></span>

		</div>

	</div>
</aside>

<footer th:fragment="footer" class="mt-5 pt-2 dashboard-footer m-0">
	<script>
		var username = "[[${currentUserDetail.username}]]";
	
		
	</script>
	<a href="#" class="go-to-top-btn"><span role="button" class="fa-solid fa-caret-up"></span></a>

	<span th:text="${param.proof}" id="login_indicator" style="margin-left: 20%"></span>
	<span th:text="${param.user}" id="current_user_id" style="margin-left: 20%"></span>

	<div class="d-flex justify-content-around mt-2">

		<div class="socials">
		</div>
	</div>

	<div th:replace="/mainLayouts::copyright-info"></div>
</footer>



</html>