<!DOCTYPE html>
<html xmlns="https://www.thymeleaf.org">

<head th:fragment="head">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Projectory - Project Management App</title>
	<link rel="icon" th:href="@{/images/TrajectoryLogo.png}" type="image/x-icon">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">


	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
		crossorigin="anonymous"></script>
	<link href="/css/style.css" rel="stylesheet">
	<link href="/css/todolist.css" rel="stylesheet">
	<link href="/css/user-dashboard-style.css" rel="stylesheet">
	<script src="https://kit.fontawesome.com/6d882a57d9.js" crossorigin="anonymous"></script>
	<script src="/javascript/todoListScript.js" defer></script>
	<script src="/javascript/dashboardScript.js" defer></script>
	<script src="/javascript/mainScript.js" defer></script>
</head>

<header th:fragment="nav" class="dashboard-nav fixed-top">
	<nav class="user-dashboard-nav p-1 d-flex">
		<!--<div class="container-fluid d-flex justify-inbetween">-->
		<div class="top-projectory-logo">
			<a class="navbar-brand" th:href="@{/}">
				<img th:src="@{/images/TrajectoryLogo_darkGreen.png}" alt="[logo]" height="25px" width="30px">
				<span>projectory</span>
			</a>
		</div>
		<div class="navbar-links-container d-flex justify-content-end mx-3">
			<div class="navbar-nav " th:object="${user}">
				<div class="top-menu-icons">
					<a class="nav-link top-nav-links" href="#" onClick="showTopCollapsableMenu(1)">
						<span class="nav-icon mt-1 fa-solid fa-message"></span></a>
					<a class="nav-link top-nav-links" href="#" onClick="showTopCollapsableMenu(0)">
						<span class="nav-icon mt-1 fa-solid fa-bell"></span></a>
					<!--<a class="nav-link" th:href="@{/user/dashboard}"  th:text="${user.firstName}  + ' '+ ${user.lastName}">-->
					<a class="nav-link top-nav-links" href="#" onClick="showTopCollapsableMenu(2)">
						<span class="nav-icon mt-1 fa-solid fa-gear"></span></a>
					<div class="top-collapsable-menu-container" id="top-collapsable-menu-container" onmouseleave="test()">
						<p class="top-menu-content" id="notification-menu-content">Notification</p>
						<p class="top-menu-content" id="message-menu-content">Messages</p>
						<p class="top-menu-content" id="setting-menu-content">Setting</p>
					</div>
				</div>
				<script>
					function test(){
						
									topMenuContainer.style.padding = "0px";
									topMenuContainer.style.height = "0px";
									document.getElementById(specificContentIds[specCont]).style.display = "none";
					}
				</script>

				<script>
					let menuCollapsed = true;
					const topMenuContainer = document.getElementById("top-collapsable-menu-container");
					const specificContentIds = ["notification-menu-content", "message-menu-content", "setting-menu-content"];

					function showTopCollapsableMenu(type) {
						const selectedContent = document.getElementById(specificContentIds[type]);

						if (menuCollapsed) {
							for (let specCont = 0; specCont < specificContentIds.length; specCont++) {
								topMenuContainer.style.padding = "0px";
								topMenuContainer.style.height = "0px";
								document.getElementById(specificContentIds[specCont]).style.display = "none";
							}
							topMenuContainer.style.padding = "30px";
							topMenuContainer.style.height = "300px";
								
							selectedContent.style.display = "block";

							//menuCollapsed = false;
						}
						else {
							for (let specCont of specificContentIds) {
								let temp = document.querySelector("#top-collapsable-menu #" + specCont);
								temp.style.display = none;
							}
							topMenuContainer.style.display = none;

							//menuCollapsed = true;
						}
					}
				</script>
			</div>
		</div>
	</nav>

</header>

<aside th:fragment="side-menu" id="side-menu" class="p-0">
	<div class="navbar-dark bg-dark p-2  pt-5 side-nav">
		<div class="navbar-nav " th:object="${user}">

			<span role="button" class="fa-solid fa-bars" id="side-menu-toggle" onClick="sideMenuToggle()">
				<span class="fa-solid fa-caret-right" id="side-nav-arrow"></span>
				<!--<span class="fa-solid fa-caret-left side-nav-arrow" id="side-nav-left-arrow"></span>-->
			</span>
			<a class="nav-link" th:href="@{/user/dashboard}">
				<span class="nav-icon mt-1 fa-solid fa-table-columns"></span> <span
					class="side-nav-text mx-2">Dashboard</span></a>
			<a class="nav-link" th:href="@{/todo}"><span class="nav-icon mt-1 fa-solid fa-list"></span> <span
					class="side-nav-text mx-2">To-do List</span></a>
			<a class="nav-link" th:href="@{/user/dashboard}">
				<span class="nav-icon mt-1 fa-solid fa-chalkboard-user"></span>
				<span class="side-nav-text mx-2">Scrum Board</span></a>
			<!--<a class="nav-link" th:href="@{/user/dashboard}"  th:text="${user.firstName}  + ' '+ ${user.lastName}">-->
			<a class="nav-link" th:href="@{/user/dashboard}">
				<span class="nav-icon mt-1 fa-solid fa-user"></span>
				<span class="side-nav-text mx-2">Account</span></a>
		</div>
	</div>
</aside>

<footer th:fragment="footer" class="mt-5 pt-2 dashboard-footer m-0">

	<div class="d-flex justify-content-around mt-2">

		<div class="socials">
		</div>
	</div>

	<div>
		<p>Â© 2023, Placeholder Tech</p>
	</div>
	<br />
</footer>



</html>