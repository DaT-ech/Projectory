<!DOCTYPE html>
<html xmlns="https://www.thymeleaf.org" class="dark-mode">

<head th:replace="/user/user-layouts :: head"></head>



<body
	onLoad="showMainNotification(); displayItemCount();showDashboardActionNotification(); contentEmptyMessage(); getLoginInfo()">
	<div id="item-action-notification"
		class="badge item-action-notification px-4 d-flex justify-content-center fixed-top"
		th:text="${param.indicator}"></div>
	<header th:replace="/user/user-layouts :: nav"></header>
	<div class="containers ">



		<!--<div th:text="${currentPagee}" class="mt-5"></div>-->
		<!--<span class="mt-5">sdfffffffffffsd</span>-->
		<div th:if="${currentPage == 'dashboard'}">
			<main th:replace="/user/dashboard-content-layout :: dashboard-content"></main>
		</div>

		<div th:if="${currentPage == 'profile'}">
			<main th:replace="/user/profile/profile :: profile-content"></main>
		</div>
		
		<div th:if="${currentPage == 'board'}">
			<main th:replace="/user/board/board :: board-content"></main>
		</div>
		

		<div id="vue-test-area" class="mx-5 p-2">
			<h3>vue Test</h3>
			<ul>
				<li v-for="todoItem in todoList">{{todoItem.title}}</li>
			</ul>

		</div>
		
		
		<script>
			const fetchListUrl = 'http://localhost:8080/user/api/todo-list/1';
			const fetchListUrlREST = 'http://localhost:8080/api/todo-list/1';
			const fetchListUrlREST2 = '/api/todo-list/1';
			fetch(fetchListUrlREST)
				.then(response => response.json())
				.then(data => {
					for (let d of data) {
						//alert(d.title);
					}

				})




			Vue.createApp({
				data() {
					return {
						todoList: []
					}
				},
				created() {
					fetch(fetchListUrl)
						.then(response => response.json())
						.then(response => this.todoList = response)
				}
			}).mount("#vue-test-area")
		</script>




		<!--<div id="app" class="mx-5 px-5">{{ message }}</div>-->
		
		<div id="app" class="mx-5 px-5" v-for="data in todoList">			
			<span v-for="data in todoList" style="color:rgb(255, 163, 72)">{{ data.title }}</span>
			
			<span v-for="data in todoList" class="d-block mb-2" style="color:rgb(255, 190, 111)">{{ data.details }}</span>
		</div>

		
		<script>
			//const {createApp} = Vue

			const red = Vue.createApp({
				data() {
					return {
						todoList: [],
						dt: 'test'
					}
				},
				created() {
					fetch(fetchListUrlREST)
						.then(response => response.json())
						.then(data => this.todoList = data)
				}
			}).mount("#app")
		</script>





		<!-- th:if on both of the works but th:unless doesn't. It breaks the conditional	
		<div th:unless="${currentPage == 'profile'}">
			<main th:replace="/user/profile :: profile-content"></main>
		</div>-->

		<!--
		<main class="dashboard-content" th:replace="/user/user-connections-layout :: connections-page"></main>
		<main class="dashboard-content" th:replace="/user/scrum-kanban-board-layout :: scrum-kanban-board-page"></main>
		<main class="dashboard-content" th:replace="/user/user-messages-layout :: messages-page"></main>
		<main class="dashboard-content" th:replace="/user/user-account-layout :: account-page"></main>
		-->


	</div>
	<footer th:replace="/user/user-layouts :: footer"></footer>

</body>

</html>