<!DOCTYPE html>
<html>

<!-- insert into todo(todo_item_id, title, detail) values(1, 'item ttl', 'detaillsss'); -->
<!-- insert into project(project_id, title, description, status) values(9, 'projects title','more detail', 'in progress') ;-->


<!--project list display start-->
<div class="item-display-table project-display-table" th:fragment="project-list-table">
	<span style="font-size:9pt; color:grey">Expand the project boxes for full experience</span>
	<div th:object="${project}" class="d-flex justify-content-around flex-wrap">
		<div th:each="proj : ${project}" class="project-modal-boxes-container mb-5" id="project-modal-boxes-container">
			<!--<span role="button" class="float-end top-dangling-x-btn fa-solid fa-maximize" title="Expand"-->
			<span role="button" class="float-end top-dangling-x-btn fa-solid fa-expand" title="Expand"
				th:id="project-modal-expand-btn-+''+${proj.projectId}"
				th:onclick="expandContainer('project-modal-box-'+[[${proj.projectId}]], this.id)"></span>
			<div class="mt-1"></div>
			<!--<button class="btn minimalist-btn btn-sm p-1 float-end expand-btn top-dangling-x-btn"
				th:id="project-modal-expand-btn-+''+${proj.projectId}"
				th:onclick="expandContainer('project-modal-box-'+[[${proj.projectId}]])" title="Expand">
				<span class="fa-solid fa-maximize"></span> <b>Expand</b></button>
			<div class="mb-1"></div>-->

			<div class="project-modal-boxes-default pt-3 float-none p-1 project-modal-boxes"
				th:id="project-modal-box-+''+${proj.projectId}">
				<div class="">
					<span class="project-owner-indicator info-tag-dark info-tag-dark-sm float-start"><span
							class="fa-solid fa-user-tie"></span>
						Project owner: </span>
					<span class="project-owner-indicator info-tag-dark info-tag-dark-sm float-end"><span
							class="fa-solid fa-users"></span> Members: </span>
					<div></div>
					<br />
				</div>

				<div class="project-modal-inner-content-container d-flex flex-wrap justify-content-around p-2">
					<div class="project-modal-boxes-inner p-1 my-2 mx-2 align-self-start" style="display: block;"
						th:id="${proj.projectId}">
						<span id="itemNumber" class="badge text-bg-warning itemNumber">0</span>
						<!--<span th:text = "${item.todoItemId}" class="badge text-bg-warning"></span>-->
						<span th:text="${proj.title}" id=""></span>
						<!--<span>|</span>-->
						<!--<span th:text="${proj.status}" class="fw-lighter modal-project-status"></span>-->
						<br />
						<span th:text="${proj.description}" class="fw-lighter"></span>
						<span th:class="d-block +' '+project-status-label +' '+${proj.status}"
							th:text="${proj.status}"></span>
						<br />


						<!-- add task / members buttons-->
						<div class="mt-1 d-flex justify-content-evenly">
							<button id="add-project-task-button" role="button"
								class="minimalist-btn minimalist-btn-blk-bg minimalist-btn-rounded add-project-task-button"
								th:onClick="showAddProjectTaskForm(this.id)" th:id="${proj.projectId}">
								<span class="fa-solid fa-notes-medical"></span>
								<span class="add-project-task-btn-text">Add Task</span>
							</button>
							<button id="add-project-members-button"
								class="minimalist-btn minimalist-btn-blk-bg minimalist-btn-rounded add-project-members-button btn-sm"
								th:onClick="showAddProjectTaskForm(this.id)" onClick="addContributersForm()"
								th:id="${proj.projectId}">
								<span class="fa-solid fa-user-plus"></span>
								<span class="add-project-task-btn-text">Add Members</span>
							</button>
						</div>

						<!--add project task form-->
						<div class="add-project-task-form mt-2" th:id="add-project-task-form+''+${proj.projectId}"
							style="height: 0px;">
							<div class="form form-container p-1" th:id="addTaskForm+''+${proj.projectId}">
								<input type="hidden" th:value="${proj.projectId}" id="proj-id">
								<input type="text" placeholder="Task title"
									class="form-control form-control-sm mb-1 task-title" id="task-title">
								<input type="text" placeholder="Task description"
									class="form-control form-control-sm mb-1 task-description" id="task-description">

								<div class="d-flex">
									<select class="form-select form-select-sm mb-1 me-1 task-status" id="task-status">
										<option>Not started</option>
										<option>Working on it</option>
										<option>Done</option>
									</select>
									<input type="number" placeholder="Duration" title="Days to complete"
										class="form-control form-control-sm mb-1 task-duration" id="task-duration"
										min="1">
								</div>


								<input type="button" value="add" class="btn btn-primary-golden btn-sm"
									th:onclick="addTaskToProject([[${proj.projectId}]])">
								<!--<button th:onclick="myfunction([[${proj.projectId}]])" data-projectId="${proj.projectId}">
								Click here
							</button>-->
							</div>
						</div>
						<!--display Project tasks-->
						<hr />
						<div class="modal-project-task-container p-1">
							<h6 class="project-task-title mt-2 ms-2">Tasks</h6>
							<p class="card-text fw-lighter item-count-check" th:text="${projectTaskCount}"></p>
							<div class="modal-project-task-container-inner custom-scrollbar-style-3">
								<div th:each="task : ${proj.projectTasks}">
									<div class="modal-project-task-items p-1 m-1">
										<span class="modal-project-task-name" th:text="${task.taskName}"></span>
										<span class="modal-project-task-description d-block p-1"
											th:text="${task.taskDescription}"></span>
									</div>
								</div>
							</div>
						</div>
					</div>



					<div class="project-modal-boxes-inner p-5 my-2 mx-2 align-self-start">
						<h3>placeholder</h3>
					</div>

					<div class="project-modal-boxes-inner p-4 my-2 mx-2 align-self-start">
						<h3>placeholder</h3>
					</div>


					<div class="project-modal-boxes-inner p-5 my-2 mx-2 align-self-start">
						<h3>placeholder</h3>
					</div>


					<div class="project-modal-boxes-inner p-5 my-2 mx-2 align-self-start">
						<h3>placeholder</h3>
					</div>


					<div class="project-modal-boxes-inner p-4 my-2 mx-2 align-self-start">
						<h3>placeholder</h3>
					</div>

				</div>
			</div>
		</div>
	</div>
</div>


<!--add project form-->
<div th:fragment="add-project-form" class="form-container mt-2 mx-1 row g-3" id="add-project-form">
	<!--style="height: 0px;"-->

	<div class="row">
		<div class="col-md-5">
			<label for="project-title-input" class="form-input-label">Project title</label>
			<span class="required-field-asterisks"> *</span>
			<input type="text" class="form-control form-control-sm" placeholder="Let's name your project"
				id="project-title-input" autofocus required="required">
		</div>
		<div class="col-md-4">
			<label for="project-status-input" class="form-input-label">Status</label>
			<select id="project-status-input" class="task-status form-select form-select-sm">
				<option value="Not Started" selected>Not Started</option>
				<option value="In progress">In progress</option>
				<option value="Done	">Done</option>
			</select>
		</div>

		<!--<div class="col-md-2">
			<label for="project-status-input" class="form-input-label">Access</label>
			<select id="project-status-input" class="task-status form-select form-select-sm">
				<option value="Open to all" selected>Open to all</option>
				<option value="Need approval">Need approval</option>
				<option value="Private	">Private</option>
			</select>
		</div>-->



		<div class="col-md-3">
			<lable for="project-deadline" class="form-input-label">Deadline</lable>
			<input type="date" class="form-control form-control-sm" id="project-deadline" placeholder="Deadline">
		</div>

		<div class="col-md-12">
			<label for="project-title-input" class="form-input-label">Description</label>
			<textarea class="form-control form-control-sm" placeholder="Write short project description"
				id="project-description-input" rows="3"></textarea>
		</div>
	</div>



	<div class="col-md-12 mb-2">
		<input onClick="addProject()" type="submit" value="Create Project" class="btn btn-primary-golden btn-sm mt-3">
	</div>
</div>

<!--Project display modal start-->
<div th:fragment="project-list-modal-content" id="project-list-modal-content" class="modal-inner-content">
	<span class="d-flex mt-3">
		<!--<img class="dashboard-card-img-top mx-2" th:src="@{/images/to-do-list.png}" alt="to-do icon">-->
		<span class="dashboard-card-img-top mx-2 mt-1 fa-solid fa-diagram-project" alt="to-do icon"></span>
		<h5 class="card-title dashboard-card-title">Project List</h5>
	</span>
	<hr />

	<div th:replace="/user/todo/todoLayouts :: notification-board"></div>
	<input type="button" class="btn btn-primary-white btn-sm mt-3 mx-3 create-project-btn"
		onClick="showAddProjectForm()" value="Create Project">

	<div th:replace="/user/project/project-layouts :: add-project-form"></div>

	<p class="card-text fw-lighter item-count-check" th:text="${projectCount}"></p><br />
	<div class="d-fle flex-wrap">
		<!--<form th:action="@{/user/todo/delete-selected}" method="post">-->
		<!--<button type="submit" class="btn btn-danger btn-sm mt-3 float-end" value="Delete Selected"
			id="delete-selected-btn" disabled>
			Delete Selected <span class="badge text-bg-info" id="number-of-items-badge">0</span>
		</button>-->
		<div class="p-4 project-modal-boxes-extra-info"> stat and more info</div><br />
		<div th:replace="/user/project/project-layouts :: project-list-table"></div>

		<!--</form>-->
	</div>
</div>
<!--Project display modal end-->

<!-- Projects card -->
<div th:fragment="project-dashboard-card" class="card user-dashboard-cards custom-scrollbar-style" style="width: 18rem;"
	onclick="displayViewingModal(1)">
	<div class="card-header d-flex">
		<span class="dashboard-card-img-top mx-2 mt-1 fa-solid fa-diagram-project" alt="project icon"></span>
		<h5 class="card-title dashboard-card-title">Project</h5>
	</div>
	<div class="card-body p-1">

		<p class="card-text fw-lighter item-count-check" th:text="${projectCount}"></p>
		<div class="">
			<div th:object="${project}" class="dashboard-card-content-container-inner m-0 custom-scrollbar-style-3">
				<div th:each="proj : ${project}">
					<div th:id="${proj.projectId}" class="dashboard-card-content-items m-1 p-1">
						<span id="projectNumber" class="badge text-bg-warning itemNumber">0</span>
						<!--<span th:text = "${item.todoItemId}" class="badge text-bg-warning"></span>-->
						<span th:text="${proj.title}" id=""></span>
						<br />
						<span th:text="${proj.description}"
							class="fw-lighter dashboard-card-content-description p-1 ps-2 d-block"></span>
						<span th:class="project-status-label-card+' '+project-status-label +' '+${proj.status}"
							th:text="${proj.status}"></span>
					</div>
				</div>
			</div>
		</div>
		<button class="minimalist-btn-lighter btn-sm create-project-btn create-project-btn-card ms-2 mt-2"
			onClick="showAddProjectForm('card')">Create
			Project</button>

	</div>
</div>


<!-- Project tasks card-->
<div th:fragment="project-task-dashboard-card" class="card user-dashboard-cards custom-scrollbar-style"
	style="width: 18rem;">
	<div class="card-header d-flex">
		<span class="dashboard-card-img-top mx-2 mt-1 fa-solid fa-list-check" alt="task icon"></span>
		<h5 class="card-title dashboard-card-title">Tasks on board</h5>
	</div>
	<div class="card-body p-1">
		<div class="dashboard-card-content-container-inner custom-scrollbar-style-3">
			<p class="card-text fw-lighter item-count-check" th:text="${projectTaskCount}"></p>
			<div th:each="task : ${projectTasks}">
				<div class="dashboard-card-content-items p-1 m-1">
					<span class="dashboard-card-content-name" th:text="${task.taskName}"></span>
					<span class="cadetblue-light"> | Project: </span>
					<span class="cadetblue" th:text="${task.containerProject.title}"></span>
					<span class="project-task-status d-block info-tag-dark" th:text="${task.status}"></span>
					<span class="dashboard-card-content-description d-block p-1"
						th:text="${task.taskDescription}"></span>
				</div>
			</div>
		</div>
	</div>
</div>
</div>

</html>